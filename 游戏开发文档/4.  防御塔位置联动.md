# 4.  防御塔位置联动

> **废案：**
>
> 具体防御塔之间的联动
>
> 如：
>
> - 小猫塔和小狗塔相邻时，xxxx
> - 多个小羊塔和灰狼塔相邻时：xxxx
> - 鳄鱼塔和河马塔相邻时：xxxx
>
> 废弃原因：
>
> ​	需要为每座防御塔设计联动机制，后面的防御塔多起来，设计工作量非常大，如果每两个防御塔都有相邻机制，设计工作量增大了一个数量级。所以这个机制不够优雅。





**总体联动策略为：**

- 引入防御塔颜色机制，不同防御塔具有不同的颜色（类似种族的概念）
- 将具有相同颜色属性的防御塔摆放成对应图案时触发联动特效，逻辑上将这些防御塔视为一个阵型小组，
- 阵型小组内的防御塔必须相邻，但相邻的防御塔可以位于不同阵型小组
- 同一座防御塔，在同一时刻只能使用位于一个阵型小组内
- 防御塔可以随时进入或退出某个小组。
- 联动分为小型联动和大型联动：
  - 小型联动即将防御塔连续摆放即可触发，连续的数量越多，buff效果越强，阵型内一旦出现超过5座塔则不再触发小型联动效果提升，直至玩家摆出大型联动的图案
  - 大型联动需要将防御塔摆放出特定形状，比如字母A-Z（或其他图案），获得较强的效果
  - 巨型联动：当玩家摆出特定单词时，获得超级无敌强的效果



**图4-1 防御塔相邻示意图：**

如图所示，防御塔可以在横向，纵向，斜向3个方向组成达成相邻状态，从而进入一个阵型小组

![](C:\Users\Klin\OneDrive\Desktop\workspace\game_design\project2_Demo\Time_Guardian\Time Guardian\游戏开发文档\GDD用图\防御塔相邻示意图.png)

**图4-1 防御塔分组示意图：**

如图所示，同一座防御塔单位时间内只能旋转一个阵型小组加入，哪怕相邻，也可以加入不同的阵型小组

![](C:\Users\Klin\OneDrive\Desktop\workspace\game_design\project2_Demo\Time_Guardian\Time Guardian\游戏开发文档\GDD用图\防御塔分组示意图.png)







## 4.1 小型联动

将防御塔连续摆放，位置相邻即可触发小型联动，小型联动的防御塔将获得小幅加成：

小阵型规则定义如下：

* 当一个阵型小组内有N个防御塔时，防御塔获得 N * 5%的攻击力加成（至少2座相邻的防御塔）



> 祁麟：这个加成很小，只是玩家摆出大型联动之前的临时过渡







## 4.2 大型联动

相应的图案有：A-Z（26个字母），即将防御塔摆放成对应字母的像素图形时（7*5的像素格子），触发大型联动。大型联动会同时带来两个增益效果：

* 防御塔属性增益：防御塔将会获得攻击力，攻速，回蓝速度等属性增益
* 地图增益：当怪物通过阵型的特定位置时，会触发特殊效果

### 4.2.1 总览

| 阵型  | 防御塔属性增益                                   | 地图增益                                                     | 示意图                      |
| ----- | ------------------------------------------------ | ------------------------------------------------------------ | --------------------------- |
| 字母A | Arrow：每个防御塔可以额外射出一发箭矢。          | 当怪物通过A阵型的顶点位置时，会被火箭顶出地图外（直接死亡），每3s一次蓄力 | ![字母A](GDD用图\字母A.png) |
| 字母B | Bounce：防御塔的攻击可以反弹到多个目标上。       | Block：怪物无法通过字母B中间的留空区域（使得怪物行进的路径增长）。 | ![字母A](GDD用图\字母B.png) |
| 字母C | Cooldown：减少防御塔的技能冷却时间。             | Capture：在C阵型内的怪物会被捕获，暂时无法行动。             | ![字母A](GDD用图\字母C.png) |
| 字母D | Damage：增加防御塔的攻击力。                     | Drop：阵型内部道路会定期生成陷阱，当怪物通过D阵型时，会掉落陷阱，对其造成伤害和减速效果 | ![字母A](GDD用图\字母d.png) |
| 字母E | Extend：延长防御塔的攻击范围。                   | Exit：当怪物通过字母E的“出口”位置时，会被强制传送回地图起点，重新开始行进。，每3s一次蓄力 | ![字母A](GDD用图\字母E.png) |
| 字母F | Fire：防御塔的攻击附带火焰效果，造成持续燃烧伤害 | Flare：当怪物通过F阵型时，会触发闪光，使其暂时失明。向随机方向前进 | ![字母A](GDD用图\字母F.png) |
| 字母G |                                                  |                                                              |                             |
| 字母H |                                                  |                                                              |                             |
|       |                                                  |                                                              |                             |
|       |                                                  |                                                              |                             |
|       |                                                  |                                                              |                             |

